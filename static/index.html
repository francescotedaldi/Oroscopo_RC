<!DOCTYPE html>
<html>

<head>
    <title>Oroscopo RC</title>

    <script type="text/javascript">

        function stampaOroscopo() {

            var selector = document.getElementById("scegli_segno");
            var scegnoScelto = selector.options[selector.selectedIndex].value;

            var request = require('request');

            var prendi_url = {
                url: 'http://ohmanda.com/api/horoscope/' + scegnoScelto,
            }

            function callback(error, response, body) {

                if (!error && response.statusCode == 200) {
                    var jsonContent = JSON.parse(body);
                    var testoOroscopo = JSON.stringify(jsonContent.horoscope);

                    document.getElementById("area_di_testo").textContent = testoOroscopo;
                }
            }

            request.get(prendi_url, callback);
        }
    </script>

</head>


<body>

    <h1>Oroscopo Reti di Calcolatori</h1>
    <p>Questa Ã¨ la pagina principale!</p>

    <br> Scegli un segno zodiacale:

    <select name="segno_zodiacale" required id="scegli_segno">
        <option></option>
        <option value="aries">aries</option>
        <option value="aquarius">aquarius</option>
        <option value="pisces">pisces</option>
        <option value="taurus">taurus</option>
        <option value="gemini">gemini</option>
        <option value="cancer">cancer</option>
        <option value="leo">leo</option>
        <option value="virgo">virgo</option>
        <option value="libra">libra</option>
        <option value="scorpio">scorpio</option>
        <option value="sagittarius">sagittarius</option>
        <option value="capricorn">capricorn</option>
    </select>

    <br>
    <input type="submit" value="Invia" id="invia_btn" onclick="stampaOroscopo()">

    <br>
    <textarea type="text" name="Richieste" rows="20" cols="100" id="area_di_testo">
    </textarea>
    <br>

</body>

</html>